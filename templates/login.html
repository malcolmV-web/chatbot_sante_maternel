<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Connexion — MATERNUM & INFANS</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;600;800&family=Poppins:wght@300;600;800&display=swap" rel="stylesheet">

  <!-- Bootstrap + FontAwesome -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>

  <!-- Optional shared stylesheet -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

  <style>
    :root{
      --turquoise: #2AC7C9;
      --bleu-marine: #183153;
      --muted: #6b7a94;
      --card-radius: 14px;
      --btn-radius: 999px;
    }
    html,body{
      height:100%;
      margin:0;
      font-family:"Poppins","Nunito",system-ui,Arial;
      background: linear-gradient(180deg,#f4fbfb,#f8fdfd);
      color:var(--bleu-marine);
    }
    .page-wrapper { min-height:100vh; display:flex; flex-direction:column; }
    main.content { flex:1 0 auto; display:flex; align-items:center; justify-content:center; padding:28px; }
    footer.site-footer { flex-shrink:0; background:#fff; padding:18px; text-align:center; color:var(--muted); }

    .auth-card {
      width:100%;
      max-width:420px;
      border-radius:12px;
      padding:28px;
      box-shadow:0 12px 36px rgba(24,49,83,0.06);
      background: linear-gradient(180deg, #fff, #fbffff);
      border:1px solid rgba(24,49,83,0.03);
    }

    .brand {
      display:flex; align-items:center; gap:12px; margin-bottom:12px;
    }
    .brand-logo {
      width:44px;height:44px;border-radius:10px;
      background:linear-gradient(135deg,var(--turquoise), #7BE495);
      display:flex; align-items:center; justify-content:center;
      overflow:hidden;
      box-shadow:0 6px 18px rgba(42,199,201,0.12);
    }
    .auth-title { font-weight:800; font-size:20px; margin:0; }

    .form-control { border-radius: 999px; padding:12px 14px; border:1px solid rgba(24,49,83,0.06); }
    .btn-primary {
      background: linear-gradient(90deg,var(--turquoise), #0fb5b7);
      color:#043238; border:0; border-radius:999px; padding:10px 16px; font-weight:700;
    }
    .helper { font-size:13px; color:var(--muted); }
  </style>
</head>
<body>
  <div class="page-wrapper">
    <main class="content">
      <div class="auth-card" aria-labelledby="authTitle">

        <!-- Brand -->
        <div class="brand">
          <div class="brand-logo">
            <img src="{{ url_for('static', filename='images/sante_maternel.png') }}"
                 alt="Logo MATERNUM & INFANS"
                 style="width:100%;height:100%;object-fit:cover;border-radius:10px;">
          </div>
          <div>
            <h1 id="authTitle" class="auth-title">Connexion</h1>
            <div class="helper">Accédez à votre espace</div>
          </div>
        </div>

        <!-- Form -->
        <form method="POST" action="{{ url_for('login') }}" novalidate>
          <div class="form-group">
            <label for="username">Nom d'utilisateur</label>
            <input id="username" name="username" type="text" class="form-control" required autocomplete="username" placeholder="Votre nom d'utilisateur">
          </div>

          <div class="form-group">
            <label for="password">Mot de passe</label>
            <input id="password" name="password" type="password" class="form-control" required autocomplete="current-password" placeholder="Votre mot de passe">
          </div>

          <button type="submit" class="btn btn-primary btn-block">Se connecter</button>
        </form>

        <!-- Flash messages -->
        <div aria-live="polite" class="mt-3">
          {% with messages = get_flashed_messages(with_categories=true) %}
            {% for category, message in messages %}
              <div class="alert alert-{{ category }} mt-2">{{ message }}</div>
            {% endfor %}
          {% endwith %}
        </div>

        <p class="helper mt-3 text-center">Pas encore inscrit ?
          <a href="{{ url_for('show_register_form') }}">Créer un compte</a></p>

      </div>
    </main>

    <footer class="site-footer">
      &copy; 2025 MATERNUM &amp; INFANS — Tous droits réservés.
    </footer>
  </div>
</body>
</html>
